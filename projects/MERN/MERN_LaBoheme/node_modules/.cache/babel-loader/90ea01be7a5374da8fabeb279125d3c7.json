{"ast":null,"code":"var _jsxFileName = \"/home/danel/Rendu/MERN_LaBoheme/src/components/struct/MenuComponent.js\";\nimport React from 'react';\nimport { Link, Redirect } from 'react-router-dom';\nimport config from '../../config';\nimport CategoryShowComponent from '../category/CategoryShowComponent';\nimport { Button, Row } from 'react-bootstrap';\nconst axios = config.axios;\n\nclass MenuComponent extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      categories: [],\n      full: false,\n      modal: null,\n      data: null,\n      products: null\n    };\n  }\n\n  showProduct(product) {\n    this.setState({\n      products: product\n    });\n  }\n\n  componentDidMount() {\n    axios.get('/category').then(res => {\n      console.log(\"first step\");\n      const categories = res.data;\n      this.state.categories = categories;\n      console.log(\"categories\");\n      console.log(categories);\n      this.setState({\n        full: true\n      });\n    }).catch(error => {\n      console.log(\"no step\");\n      console.log(\"error\");\n      this.setState({\n        full: false\n      });\n    });\n    this.interval = setInterval(() => {\n      axios.get('/category').then(res => {\n        const categories = res.data;\n        console.log(\"categories\");\n        console.log(categories);\n        this.state.categories = categories;\n        this.setState({\n          full: true\n        });\n      }).catch(error => {\n        console.log(\"kakakak step\");\n        console.log(\"error\");\n        console.log(error);\n        this.setState({\n          full: false\n        });\n      });\n    }, 5000);\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.interval);\n  }\n\n  render() {\n    let result = \"\";\n\n    if (Array.isArray(this.state.categories) && this.state.categories.length) {\n      result = this.state.categories.map(category => React.createElement(CategoryShowComponent, {\n        key: category._id,\n        menu: this,\n        category: category,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }));\n    }\n\n    return React.createElement(\"div\", {\n      className: \"App\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, result), this.state.products);\n  }\n\n}\n\nexport default MenuComponent;","map":{"version":3,"sources":["/home/danel/Rendu/MERN_LaBoheme/src/components/struct/MenuComponent.js"],"names":["React","Link","Redirect","config","CategoryShowComponent","Button","Row","axios","MenuComponent","Component","state","categories","full","modal","data","products","showProduct","product","setState","componentDidMount","get","then","res","console","log","catch","error","interval","setInterval","componentWillUnmount","clearInterval","render","result","Array","isArray","length","map","category","_id"],"mappings":"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","sourcesContent":["import React from 'react';\nimport {Link, Redirect} from 'react-router-dom';\nimport config from '../../config';\nimport CategoryShowComponent from '../category/CategoryShowComponent';\nimport {Button, Row} from 'react-bootstrap';\n\nconst axios = config.axios;\nclass MenuComponent extends React.Component {\n\n    state= {\n        categories: [],\n        full: false,\n        modal: null,\n        data: null,\n        products: null\n    }\n\n    showProduct(product){\n        this.setState({products: product})\n    }\n\n    componentDidMount() {\n\n\n\n        axios.get('/category').then(res => {\n            console.log(\"first step\");\n            const categories = res.data;\n            this.state.categories=categories;\n            console.log(\"categories\");\n            console.log(categories);\n            this.setState({full: true});\n\n        }).catch(error => {\n            console.log(\"no step\");\n            console.log(\"error\");\n            this.setState({full: false});\n\n        });\n        this.interval= setInterval(()=>{\n            axios.get('/category').then(res => {\n\n                const categories = res.data;\n                console.log(\"categories\");\n                console.log(categories);\n                this.state.categories=categories;\n                this.setState({full: true});\n\n            }).catch(error => {\n                console.log(\"kakakak step\");\n                console.log(\"error\");\n                console.log(error);\n                this.setState({full: false});\n\n            });\n        },5000);\n\n    }\n    componentWillUnmount() {\n        clearInterval(this.interval);\n\n    }\n\n    render() {\n        let result =\"\";\n        if(Array.isArray(this.state.categories) && this.state.categories.length){\n            result= this.state.categories.map(category => <CategoryShowComponent key={category._id} menu={this} category={category}/>);\n        }\n\n        return (\n            <div className=\"App\">\n                <Row>{result}</Row>\n                {this.state.products}\n            </div>\n        );\n    }\n}\nexport default MenuComponent;"]},"metadata":{},"sourceType":"module"}