{"ast":null,"code":"var _jsxFileName = \"/home/danel/Rendu/MERN_LaBoheme/src/components/user/RegisterComponent.js\";\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport { Modal, Form, FormControl, FormGroup, ControlLabel, HelpBlock, Checkbox, Radio, Button } from 'react-bootstrap';\nimport config from '../../config';\nconst axios = config.axios;\n\nclass RegisterComponent extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      username: '',\n      email: '',\n      password: '',\n      password_confirm: '',\n      success: false,\n      show: this.props.show,\n      parent: this.props.parent,\n      error: {\n        username: \"username can't be empty\",\n        email: \"email can't be empty\",\n        password: \"password can't be empty\",\n        password_confirm: 'password must be confirmed'\n      }\n    };\n\n    this.handleClose = () => {\n      this.reset();\n      this.setState({\n        show: false\n      });\n    };\n\n    this.handleShow = () => this.setState({\n      show: true\n    });\n\n    this.reset = function () {\n      this.setState({\n        username: '',\n        email: '',\n        password: '',\n        password_confirm: '',\n        show: false,\n        success: false,\n        error: {\n          username: \"username can't be empty\",\n          email: \"email can't be empty\",\n          password: \"password can't be empty\",\n          password_confirm: 'password must be confirmed'\n        }\n      });\n    };\n\n    this.passwordHandler = event => {\n      let password = event.target.value;\n\n      if (password.length <= 4) {\n        let er = this.state.error;\n        er.password = \"password must be longer than 4 characters\";\n        this.setState({\n          error: er\n        });\n      } else if (password.length >= 16) {\n        let er = this.state.error;\n        er.password = \"password must be shorter than 16 characters\";\n        this.setState({\n          error: er\n        });\n      } else {\n        let er = this.state.error;\n        er.password = \"\";\n        this.setState({\n          error: er\n        });\n        this.setState({\n          password: password\n        });\n      }\n    };\n\n    this.usernameHandler = event => {\n      let name = event.target.value;\n      let username = event.target.value;\n\n      if (username.length <= 4) {\n        let er = this.state.error;\n        er.username = \"username must be longer than 4 characters\";\n        this.setState({\n          error: er\n        });\n      } else if (username.length >= 16) {\n        let er = this.state.error;\n        er.username = \"username must be shorter than 16 characters\";\n        this.setState({\n          error: er\n        });\n      } else {\n        let er = this.state.error;\n        er.username = \"\";\n        this.setState({\n          error: er\n        });\n        this.setState({\n          username: username\n        });\n      }\n    };\n\n    this.emailHandler = event => {\n      let email = event.target.value;\n\n      if (email.match(/^([\\w.%+-]+)@([\\w-]+\\.)+([\\w]{2,})$/i)) {\n        let er = this.state.error;\n        er.email = \"\";\n        this.setState({\n          error: er\n        });\n        this.setState({\n          email: event.target.value\n        });\n      } else {\n        let er = this.state.error;\n        er.email = \"email format not correct\";\n        this.setState({\n          error: er\n        });\n      }\n    };\n\n    this.showLoginForm = event => {\n      event.preventDefault();\n\n      if (this.state.parent) {\n        this.handleClose();\n        this.state.parent.showLoginForm(event);\n      }\n    };\n\n    this.passwordConfirmHandler = event => {\n      if (event.target.value != this.state.password) {\n        let er = this.state.error;\n        er.password_confirm = \"passwords must match\";\n        this.setState({\n          error: er\n        });\n      } else {\n        let er = this.state.error;\n        er.password_confirm = \"\";\n        this.setState({\n          error: er\n        });\n        this.setState({\n          error: er\n        });\n        this.setState({\n          password_confirm: event.target.value\n        });\n      }\n    };\n\n    this.submitHandler = event => {\n      let error_alert = \"\";\n\n      for (let error in this.state.error) {\n        if (this.state.error[error]) {\n          error_alert = error_alert + this.state.error[error] + \"\\n\";\n        }\n      }\n\n      if (error_alert) {\n        alert(error_alert);\n      } else {\n        let body = {\n          username: this.state.username,\n          email: this.state.email,\n          password: this.state.password,\n          password_confirm: this.state.password_confirm\n        };\n\n        const querystring = require('querystring');\n\n        axios.post(\"/register\", querystring.stringify(body)).then(res => {\n          this.setState({\n            success: true\n          });\n          this.handleClose();\n          alert(\"user created successfully\");\n        });\n      }\n    };\n  }\n\n  componentDidMount() {\n    this.reset();\n    this.setState({\n      show: this.props.show\n    });\n    this.forceUpdate();\n    this.setState({\n      success: false\n    });\n  }\n\n  render() {\n    let name = this.state.username;\n    let greetings = \"\";\n\n    if (name) {\n      greetings = \"Welcome \" + name;\n    } else {\n      greetings = \"\";\n    }\n\n    if (this.props.modal) {\n      return React.createElement(Modal, {\n        show: this.state.show,\n        onHide: this.handleClose,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170\n        },\n        __self: this\n      }, React.createElement(Modal.Header, {\n        closeButton: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171\n        },\n        __self: this\n      }, React.createElement(Modal.Title, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172\n        },\n        __self: this\n      }, \"Register\")), React.createElement(Modal.Body, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174\n        },\n        __self: this\n      }, React.createElement(Form, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176\n        },\n        __self: this\n      }, React.createElement(Form.Group, {\n        controlId: \"formUsername\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177\n        },\n        __self: this\n      }, React.createElement(Form.Label, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178\n        },\n        __self: this\n      }, \"Username\"), React.createElement(Form.Control, {\n        type: \"text\",\n        placeholder: \"Username\",\n        onChange: this.usernameHandler,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179\n        },\n        __self: this\n      })), React.createElement(Form.Group, {\n        controlId: \"formemail\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182\n        },\n        __self: this\n      }, React.createElement(Form.Label, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183\n        },\n        __self: this\n      }, \"Email\"), React.createElement(Form.Control, {\n        type: \"text\",\n        placeholder: \"Email\",\n        onChange: this.emailHandler,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184\n        },\n        __self: this\n      })), React.createElement(Form.Group, {\n        controlId: \"formPassword\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186\n        },\n        __self: this\n      }, React.createElement(Form.Label, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187\n        },\n        __self: this\n      }, \"Password\"), React.createElement(Form.Control, {\n        type: \"password\",\n        placeholder: \"Password\",\n        onChange: this.passwordHandler,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188\n        },\n        __self: this\n      })), React.createElement(Form.Group, {\n        controlId: \"formPasswordRepeat\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190\n        },\n        __self: this\n      }, React.createElement(Form.Label, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191\n        },\n        __self: this\n      }, \"Repeat Password\"), React.createElement(Form.Control, {\n        type: \"password\",\n        placeholder: \"Repeat Password\",\n        onChange: this.passwordConfirmHandler,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192\n        },\n        __self: this\n      })), React.createElement(Form.Group, {\n        controlId: \"formSubmit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194\n        },\n        __self: this\n      }, React.createElement(Button, {\n        variant: \"primary\",\n        onClick: this.submitHandler,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195\n        },\n        __self: this\n      }, \"Submit\"))), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198\n        },\n        __self: this\n      }, \"Already have an account? \", React.createElement(\"a\", {\n        href: \"#\",\n        onClick: this.showLoginForm,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198\n        },\n        __self: this\n      }, \"Login\")))));\n    } else {\n      return React.createElement(\"div\", {\n        className: \"App\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208\n        },\n        __self: this\n      }, greetings), React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209\n        },\n        __self: this\n      }, \"Register\"), React.createElement(Form, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 211\n        },\n        __self: this\n      }, React.createElement(Form.Group, {\n        controlId: \"formUsername\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 212\n        },\n        __self: this\n      }, React.createElement(Form.Label, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 213\n        },\n        __self: this\n      }, \"Username\"), React.createElement(Form.Control, {\n        type: \"text\",\n        placeholder: \"Username\",\n        onChange: this.usernameHandler,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 214\n        },\n        __self: this\n      })), React.createElement(Form.Group, {\n        controlId: \"formemail\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 217\n        },\n        __self: this\n      }, React.createElement(Form.Label, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 218\n        },\n        __self: this\n      }, \"Email\"), React.createElement(Form.Control, {\n        type: \"text\",\n        placeholder: \"Email\",\n        onChange: this.emailHandler,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 219\n        },\n        __self: this\n      })), React.createElement(Form.Group, {\n        controlId: \"formPassword\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 221\n        },\n        __self: this\n      }, React.createElement(Form.Label, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 222\n        },\n        __self: this\n      }, \"Password\"), React.createElement(Form.Control, {\n        type: \"password\",\n        placeholder: \"Password\",\n        onChange: this.passwordHandler,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 223\n        },\n        __self: this\n      })), React.createElement(Form.Group, {\n        controlId: \"formPasswordRepeat\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 225\n        },\n        __self: this\n      }, React.createElement(Form.Label, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 226\n        },\n        __self: this\n      }, \"Repeat Password\"), React.createElement(Form.Control, {\n        type: \"password\",\n        placeholder: \"Repeat Password\",\n        onChange: this.passwordConfirmHandler,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 227\n        },\n        __self: this\n      })), React.createElement(Form.Group, {\n        controlId: \"formSubmit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 229\n        },\n        __self: this\n      }, React.createElement(Button, {\n        variant: \"primary\",\n        onClick: this.submitHandler,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 230\n        },\n        __self: this\n      }, \"Submit\"))), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 233\n        },\n        __self: this\n      }, \"Already have an account? \", React.createElement(Link, {\n        to: \"/login\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 233\n        },\n        __self: this\n      }, \"Login\")));\n    }\n  }\n\n}\n\nexport default RegisterComponent;","map":{"version":3,"sources":["/home/danel/Rendu/MERN_LaBoheme/src/components/user/RegisterComponent.js"],"names":["React","Link","Modal","Form","FormControl","FormGroup","ControlLabel","HelpBlock","Checkbox","Radio","Button","config","axios","RegisterComponent","Component","state","username","email","password","password_confirm","success","show","props","parent","error","handleClose","reset","setState","handleShow","passwordHandler","event","target","value","length","er","usernameHandler","name","emailHandler","match","showLoginForm","preventDefault","passwordConfirmHandler","submitHandler","error_alert","alert","body","querystring","require","post","stringify","then","res","componentDidMount","forceUpdate","render","greetings","modal"],"mappings":"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","sourcesContent":["import React from 'react';\nimport {Link} from 'react-router-dom';\nimport {Modal, Form, FormControl, FormGroup, ControlLabel, HelpBlock, Checkbox, Radio, Button} from 'react-bootstrap';\nimport config from '../../config';\nconst axios = config.axios;\nclass RegisterComponent extends React.Component {\n\tstate = {\n\t\tusername: '',\n\t\temail: '',\n\t\tpassword: '',\n\t\tpassword_confirm: '',\n\t\tsuccess: false,\n\t\tshow:this.props.show,\n\t\tparent: this.props.parent,\n\t\terror : {\n\t\t\tusername: \"username can't be empty\",\n\t\t\temail: \"email can't be empty\",\n\t\t\tpassword: \"password can't be empty\",\n\t\t\tpassword_confirm: 'password must be confirmed'\n\t\t\t\n\t\t}\n\n\t}\n\tcomponentDidMount() {\n\t\tthis.reset();\n\t\tthis.setState({show: this.props.show});\n\t\tthis.forceUpdate();\n\t\tthis.setState({success:false});\n\n\t}\n\thandleClose = () => {\n\t\tthis.reset();\n\t\tthis.setState({show: false});\n\t}\n\thandleShow = () => this.setState({show: true});\n\t\n\treset= function(){\n\t\tthis.setState( {\n\t\t\tusername: '',\n\t\t\temail: '',\n\t\t\tpassword: '',\n\t\t\tpassword_confirm: '',\n\t\t\tshow: false,\n\t\t\tsuccess: false,\n\t\t\terror : {\n\t\t\t\tusername: \"username can't be empty\",\n\t\t\t\temail: \"email can't be empty\",\n\t\t\t\tpassword: \"password can't be empty\",\n\t\t\t\tpassword_confirm: 'password must be confirmed'\n\n\t\t\t}\n\t\t});\n\t}\n\tpasswordHandler =(event) =>{\n\t\tlet password= event.target.value;\n\t\tif(password.length <= 4){\n\t\t\tlet er= this.state.error;\n\t\t\ter.password=\"password must be longer than 4 characters\"\n\t\t\tthis.setState({error: er});\n\t\t}\n\t\telse if(password.length >= 16){\n\t\t\tlet er= this.state.error;\n\t\t\ter.password=\"password must be shorter than 16 characters\"\n\t\t\tthis.setState({error: er});\n\t\t}\n\t\telse{\n\t\t\tlet er= this.state.error;\n\t\t\ter.password=\"\";\n\t\t\tthis.setState({error: er});\n\t\t\tthis.setState({password: password});\n\t\t}\n\t\t\n\t}\n\tusernameHandler =(event) => {\n\t\tlet name= event.target.value;\n\t\tlet username= event.target.value;\n\t\tif(username.length <= 4){\n\t\t\tlet er= this.state.error;\n\t\t\ter.username=\"username must be longer than 4 characters\"\n\t\t\tthis.setState({error: er});\n\t\t}\n\t\telse if(username.length >= 16){\n\t\t\tlet er= this.state.error;\n\t\t\ter.username=\"username must be shorter than 16 characters\"\n\t\t\tthis.setState({error: er});\n\t\t}\n\t\telse{\n\t\t\tlet er= this.state.error;\n\t\t\ter.username=\"\";\n\t\t\tthis.setState({error: er});\n\t\t\tthis.setState({username: username});\n\t\t}\n\t}\n\temailHandler =(event) => {\n\t\tlet email = event.target.value;\n\t\tif(email.match(/^([\\w.%+-]+)@([\\w-]+\\.)+([\\w]{2,})$/i)){\n\t\t\tlet er= this.state.error;\n\t\t\ter.email=\"\";\n\t\t\tthis.setState({error: er});\n\t\t\tthis.setState({email: event.target.value});\n\t\t}\n\t\telse{\n\t\t\tlet er= this.state.error;\n\t\t\ter.email=\"email format not correct\";\n\t\t\tthis.setState({error: er});\n\t\t}\n\t\t\n\t}\n\tshowLoginForm=(event)=> {\n\t\tevent.preventDefault();\n\t\tif(this.state.parent){\n\t\t\tthis.handleClose();\n\t\t\tthis.state.parent.showLoginForm(event);\n\n\t\t}\n\t}\n\tpasswordConfirmHandler =(event) =>{\n\t\t\n\t\tif(event.target.value != this.state.password){\n\t\t\tlet er= this.state.error;\n\t\t\ter.password_confirm=\"passwords must match\"\n\t\t\tthis.setState({error: er});\n\t\t}\n\t\telse{\n\t\t\tlet er= this.state.error;\n\t\t\ter.password_confirm=\"\";\n\t\t\tthis.setState({error: er});\n\t\t\tthis.setState({error: er});\n\t\t\tthis.setState({password_confirm: event.target.value});\n\t\t}\n\t}\n\tsubmitHandler=(event) => {\n\t\tlet error_alert=\"\";\n\t\tfor (let error in this.state.error){\n\t\t\tif(this.state.error[error]){\n\t\t\t\terror_alert = error_alert +this.state.error[error]+\"\\n\";\n\t\t\t}\n\t\t}\n\t\tif(error_alert){\n\t\t\talert(error_alert);\n\t\t}\n\t\telse {\n\t\t\tlet body= {\n\t\t\t\tusername:this.state.username,\n\t\t\t\temail: this.state.email,\n\t\t\t\tpassword:this.state.password,\n\t\t\t\tpassword_confirm: this.state.password_confirm\n\t\t\t}\n\t\t\tconst querystring = require('querystring');\n\t\t\t\n\t\t\taxios.post(\"/register\",querystring.stringify(body)).then(res => {\n\t\t\t\tthis.setState({success:true});\n\t\t\t\tthis.handleClose();\n\t\t\t\talert(\"user created successfully\");\n\t\t\t});\n\t\t}\n\t}\n\trender() {\n\t\tlet name= this.state.username;\n\t\tlet greetings=\"\";\n\t\tif(name){\n\t\t\tgreetings= \"Welcome \"+name;\n\t\t}\n\t\telse{\n\t\t\tgreetings=\"\";\n\t\t}\n\t\tif(this.props.modal){\n\t\t\treturn(\n\t\t\t\t<Modal show={this.state.show} onHide={this.handleClose}>\n\t\t\t\t<div>\n\t\t\t\t<Modal.Header closeButton>\n\t\t\t\t<Modal.Title>Register</Modal.Title>\n\t\t\t\t</Modal.Header>\n\t\t\t\t<Modal.Body >\n\t\t\t\t\n\t\t\t\t<Form >\n\t\t\t\t<Form.Group controlId=\"formUsername\">\n\t\t\t\t<Form.Label>Username</Form.Label>\n\t\t\t\t<Form.Control type=\"text\" placeholder=\"Username\" onChange={this.usernameHandler} />\n\t\t\t\t</Form.Group>\n\n\t\t\t\t<Form.Group controlId=\"formemail\">\n\t\t\t\t<Form.Label>Email</Form.Label>\n\t\t\t\t<Form.Control type=\"text\" placeholder=\"Email\" onChange={this.emailHandler} />\n\t\t\t\t</Form.Group>\n\t\t\t\t<Form.Group controlId=\"formPassword\">\n\t\t\t\t<Form.Label>Password</Form.Label>\n\t\t\t\t<Form.Control type=\"password\" placeholder=\"Password\" onChange={this.passwordHandler} />\n\t\t\t\t</Form.Group>\n\t\t\t\t<Form.Group controlId=\"formPasswordRepeat\">\n\t\t\t\t<Form.Label>Repeat Password</Form.Label>\n\t\t\t\t<Form.Control type=\"password\" placeholder=\"Repeat Password\" onChange={this.passwordConfirmHandler} />\n\t\t\t\t</Form.Group>\n\t\t\t\t<Form.Group controlId=\"formSubmit\">\n\t\t\t\t<Button variant=\"primary\" onClick={this.submitHandler}>Submit</Button>\n\t\t\t\t</Form.Group>\n\t\t\t\t</Form>\n\t\t\t\t<p>Already have an account? <a href=\"#\" onClick={this.showLoginForm}>Login</a></p>\n\t\t\t\t</Modal.Body>\n\t\t\t\t</div>\n\t\t\t\t</Modal>\n\t\t\t\t\n\t\t\t\t);\n\t\t}\n\t\telse{\n\t\t\treturn (\n\t\t\t\t<div className=\"App\">\n\t\t\t\t<h1>{greetings}</h1>\n\t\t\t\t<h2>Register</h2>\n\t\t\t\t\n\t\t\t\t<Form >\n\t\t\t\t<Form.Group controlId=\"formUsername\">\n\t\t\t\t<Form.Label>Username</Form.Label>\n\t\t\t\t<Form.Control type=\"text\" placeholder=\"Username\" onChange={this.usernameHandler} />\n\t\t\t\t</Form.Group>\n\n\t\t\t\t<Form.Group controlId=\"formemail\">\n\t\t\t\t<Form.Label>Email</Form.Label>\n\t\t\t\t<Form.Control type=\"text\" placeholder=\"Email\" onChange={this.emailHandler} />\n\t\t\t\t</Form.Group>\n\t\t\t\t<Form.Group controlId=\"formPassword\">\n\t\t\t\t<Form.Label>Password</Form.Label>\n\t\t\t\t<Form.Control type=\"password\" placeholder=\"Password\" onChange={this.passwordHandler} />\n\t\t\t\t</Form.Group>\n\t\t\t\t<Form.Group controlId=\"formPasswordRepeat\">\n\t\t\t\t<Form.Label>Repeat Password</Form.Label>\n\t\t\t\t<Form.Control type=\"password\" placeholder=\"Repeat Password\" onChange={this.passwordConfirmHandler} />\n\t\t\t\t</Form.Group>\n\t\t\t\t<Form.Group controlId=\"formSubmit\">\n\t\t\t\t<Button variant=\"primary\" onClick={this.submitHandler}>Submit</Button>\n\t\t\t\t</Form.Group>\n\t\t\t\t</Form>\n\t\t\t\t<p>Already have an account? <Link to=\"/login\">Login</Link></p>\n\t\t\t\t</div>\n\t\t\t\t);\n\t\t}\n\t}\n}\nexport default RegisterComponent;"]},"metadata":{},"sourceType":"module"}