{"ast":null,"code":"var _jsxFileName = \"/home/danel/Rendu/MERN_LaBoheme/src/components/user/AdminUserComponent.js\";\nimport React from 'react';\nimport { Link, Redirect } from 'react-router-dom';\nimport { Card, Button } from 'react-bootstrap';\nimport config from '../../config';\nconst axios = config.axios;\n\nclass AdminUserComponent extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      user: [],\n      interval: null\n    };\n  }\n\n  componentDidMount() {\n    let url = window.location.pathname.split(\"/\");\n    let username = config.username();\n\n    if (this.props.username) {\n      username = this.props.username;\n    }\n\n    console.log(\"username\");\n    console.log(username);\n    this.interval = setInterval(function () {\n      if (username) {\n        if (this.state.user) {\n          if (this.interval) {\n            clearInterval(this.interval);\n          }\n\n          return;\n        }\n\n        console.log(\"find user \" + username);\n        axios.get('/user/' + username).then(res => {\n          console.log(\"user\");\n          console.log(res.data);\n          const user = res.data;\n          this.setState({\n            user: user\n          });\n        }).catch(error => {\n          console.log(\"error\");\n        });\n      }\n    }.bind(this), 1000);\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.interval);\n  }\n\n  render() {\n    let greetings = React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }, \" no user found\");\n    let user = this.state.user;\n\n    if (this.state.user) {\n      greetings = React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }, \"Hello, \", this.state.user.username));\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, greetings, React.createElement(Card, {\n        style: {\n          width: \"90%\",\n          margin: \"auto\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, React.createElement(Card.Body, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, React.createElement(Card.Title, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, user.username), React.createElement(Card.Text, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, user.email), React.createElement(Link, {\n        to: \"#\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, \"edit info\"))));\n    }\n\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    });\n  }\n\n}\n\nexport default AdminUserComponent;","map":{"version":3,"sources":["/home/danel/Rendu/MERN_LaBoheme/src/components/user/AdminUserComponent.js"],"names":["React","Link","Redirect","Card","Button","config","axios","AdminUserComponent","Component","state","user","interval","componentDidMount","url","window","location","pathname","split","username","props","console","log","setInterval","clearInterval","get","then","res","data","setState","catch","error","bind","componentWillUnmount","render","greetings","width","margin","email"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,IAAR,EAAaC,QAAb,QAA4B,kBAA5B;AACA,SAAQC,IAAR,EAAcC,MAAd,QAA2B,iBAA3B;AACA,OAAOC,MAAP,MAAmB,cAAnB;AACA,MAAMC,KAAK,GAAGD,MAAM,CAACC,KAArB;;AACA,MAAMC,kBAAN,SAAiCP,KAAK,CAACQ,SAAvC,CAAgD;AAAA;AAAA;AAAA,SAC5CC,KAD4C,GACrC;AACHC,MAAAA,IAAI,EAAE,EADH;AAEHC,MAAAA,QAAQ,EAAC;AAFN,KADqC;AAAA;;AAK5CC,EAAAA,iBAAiB,GAAE;AACf,QAAIC,GAAG,GAAGC,MAAM,CAACC,QAAP,CAAgBC,QAAhB,CAAyBC,KAAzB,CAA+B,GAA/B,CAAV;AACA,QAAIC,QAAQ,GAAGb,MAAM,CAACa,QAAP,EAAf;;AACA,QAAG,KAAKC,KAAL,CAAWD,QAAd,EAAuB;AACnBA,MAAAA,QAAQ,GAAE,KAAKC,KAAL,CAAWD,QAArB;AACH;;AACDE,IAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ;AACAD,IAAAA,OAAO,CAACC,GAAR,CAAYH,QAAZ;AACA,SAAKP,QAAL,GAAcW,WAAW,CAAE,YAAU;AACjC,UAAGJ,QAAH,EAAY;AACR,YAAG,KAAKT,KAAL,CAAWC,IAAd,EAAmB;AACf,cAAG,KAAKC,QAAR,EAAiB;AACbY,YAAAA,aAAa,CAAC,KAAKZ,QAAN,CAAb;AACH;;AACD;AACH;;AACDS,QAAAA,OAAO,CAACC,GAAR,CAAY,eAAcH,QAA1B;AACAZ,QAAAA,KAAK,CAACkB,GAAN,CAAU,WAASN,QAAnB,EAA6BO,IAA7B,CAAkCC,GAAG,IAAI;AACrCN,UAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ;AACAD,UAAAA,OAAO,CAACC,GAAR,CAAYK,GAAG,CAACC,IAAhB;AACA,gBAAMjB,IAAI,GAAGgB,GAAG,CAACC,IAAjB;AACA,eAAKC,QAAL,CAAc;AAAClB,YAAAA,IAAI,EAACA;AAAN,WAAd;AAGH,SAPD,EAOGmB,KAPH,CAOSC,KAAK,IAAI;AACdV,UAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ;AAGH,SAXD;AAYH;AACJ,KAtB0B,CAsBzBU,IAtByB,CAsBpB,IAtBoB,CAAF,EAsBZ,IAtBY,CAAzB;AAuBH;;AACDC,EAAAA,oBAAoB,GAAG;AACnBT,IAAAA,aAAa,CAAC,KAAKZ,QAAN,CAAb;AAEH;;AACDsB,EAAAA,MAAM,GAAE;AACJ,QAAIC,SAAS,GAAE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAAf;AACA,QAAIxB,IAAI,GAAE,KAAKD,KAAL,CAAWC,IAArB;;AACA,QAAG,KAAKD,KAAL,CAAWC,IAAd,EAAmB;AACfwB,MAAAA,SAAS,GACL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAY,KAAKzB,KAAL,CAAWC,IAAX,CAAgBQ,QAA5B,CADJ,CADJ;AAKA,aACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACKgB,SADL,EAEI,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAE;AAACC,UAAAA,KAAK,EAAC,KAAP;AAAcC,UAAAA,MAAM,EAAE;AAAtB,SAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAEI,oBAAC,IAAD,CAAM,IAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,IAAD,CAAM,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAa1B,IAAI,CAACQ,QAAlB,CADJ,EAEI,oBAAC,IAAD,CAAM,IAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAYR,IAAI,CAAC2B,KAAjB,CAFJ,EAGI,oBAAC,IAAD;AAAM,QAAA,EAAE,EAAC,GAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAHJ,CAFJ,CAFJ,CADJ;AAcH;;AACD,WAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAP;AAEH;;AAnE2C;;AAqEhD,eAAe9B,kBAAf","sourcesContent":["import React from 'react';\nimport {Link,Redirect} from 'react-router-dom'\nimport {Card, Button} from 'react-bootstrap';\nimport config from '../../config';\nconst axios = config.axios;\nclass AdminUserComponent extends React.Component{\n    state= {\n        user: [],\n        interval:null\n    }\n    componentDidMount(){\n        let url = window.location.pathname.split(\"/\");\n        let username = config.username();\n        if(this.props.username){\n            username= this.props.username;\n        }\n        console.log(\"username\");\n        console.log(username);\n        this.interval=setInterval( function(){\n            if(username){\n                if(this.state.user){\n                    if(this.interval){\n                        clearInterval(this.interval);\n                    }\n                    return;\n                }\n                console.log(\"find user \"+ username);\n                axios.get('/user/'+username).then(res => {\n                    console.log(\"user\");\n                    console.log(res.data);\n                    const user = res.data;\n                    this.setState({user:user});\n\n\n                }).catch(error => {\n                    console.log(\"error\");\n\n\n                });\n            }\n        }.bind(this),1000);\n    }\n    componentWillUnmount() {\n        clearInterval(this.interval);\n\n    }\n    render(){\n        let greetings= <h2> no user found</h2>\n        let user= this.state.user;\n        if(this.state.user){\n            greetings=\n                <div>\n                    <h1>Hello, {this.state.user.username}</h1>\n\n                </div>\n            return(\n                <div>\n                    {greetings}\n                    <Card style={{width:\"90%\", margin: \"auto\"}}>\n\n                        <Card.Body>\n                            <Card.Title>{user.username}</Card.Title>\n                            <Card.Text>{user.email}</Card.Text>\n                            <Link to=\"#\">edit info</Link>\n                        </Card.Body>\n                    </Card>\n                </div>\n            );\n\n        }\n        return(<div/>);\n\n    }\n}\nexport default AdminUserComponent;"]},"metadata":{},"sourceType":"module"}