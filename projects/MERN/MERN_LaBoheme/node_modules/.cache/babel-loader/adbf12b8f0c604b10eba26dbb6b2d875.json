{"ast":null,"code":"var _jsxFileName = \"/home/danel/EPITECH/projects/MERN/MERN_LaBoheme/src/components/user/UserShowComponent.js\";\nimport React from 'react';\nimport { Link, Redirect } from 'react-router-dom';\nimport { Card, Button } from 'react-bootstrap';\nimport config from '../../config';\nconst axios = config.axios;\n\nclass UserShowComponent extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      user: null,\n      interval: null\n    };\n  }\n\n  componentDidMount() {\n    let url = window.location.pathname.split(\"/\");\n    let username = config.username();\n\n    if (this.props.username) {\n      username = this.props.username;\n    }\n\n    console.log(\"username\");\n    console.log(username);\n    this.interval = setInterval(function () {\n      if (username) {\n        if (this.state.user) {\n          if (this.interval) {\n            clearInterval(this.interval);\n          }\n\n          return;\n        }\n\n        console.log(\"find user \" + username);\n        axios.get('/user/' + username).then(res => {\n          console.log(\"user\");\n          console.log(res.data);\n          const user = res.data;\n          this.setState({\n            user: user\n          });\n        }).catch(error => {\n          console.log(\"error\");\n        });\n      }\n    }.bind(this), 1000);\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.interval);\n  }\n\n  render() {\n    let greetings = React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }, \" no user found\");\n    let user = this.state.user;\n\n    if (this.state.user) {\n      greetings = React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }, \"Hello, \", this.state.user.username));\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, greetings, React.createElement(Card, {\n        style: {\n          width: \"90%\",\n          margin: \"auto\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, React.createElement(Card.Body, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, React.createElement(Card.Title, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, user.username), React.createElement(Card.Text, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, user.email), React.createElement(Link, {\n        to: \"#\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, \"edit info\"))));\n    }\n\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    });\n  }\n\n}\n\nexport default UserShowComponent;","map":{"version":3,"sources":["/home/danel/EPITECH/projects/MERN/MERN_LaBoheme/src/components/user/UserShowComponent.js"],"names":["React","Link","Redirect","Card","Button","config","axios","UserShowComponent","Component","state","user","interval","componentDidMount","url","window","location","pathname","split","username","props","console","log","setInterval","clearInterval","get","then","res","data","setState","catch","error","bind","componentWillUnmount","render","greetings","width","margin","email"],"mappings":"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","sourcesContent":["import React from 'react';\nimport {Link,Redirect} from 'react-router-dom'\nimport {Card, Button} from 'react-bootstrap';\nimport config from '../../config';\nconst axios = config.axios;\nclass UserShowComponent extends React.Component{\n\tstate= {\n\t\tuser: null,\n\t\tinterval:null\n\t}\n\tcomponentDidMount(){\n\t\tlet url = window.location.pathname.split(\"/\");\n\t\tlet username = config.username();\n\t\tif(this.props.username){\n\t\t\tusername= this.props.username;\n\t\t}\n\t\tconsole.log(\"username\");\n\t\tconsole.log(username);\n\t\tthis.interval=setInterval( function(){\n\t\t\tif(username){\n\t\t\t\tif(this.state.user){\n\t\t\t\t\tif(this.interval){\n\t\t\t\t\t\tclearInterval(this.interval);\n\t\t\t\t\t}\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tconsole.log(\"find user \"+ username);\n\t\t\t\taxios.get('/user/'+username).then(res => {\n\t\t\t\t\tconsole.log(\"user\");\n\t\t\t\t\tconsole.log(res.data);\n\t\t\t\t\tconst user = res.data;\n\t\t\t\t\tthis.setState({user:user});\n\n\n\t\t\t\t}).catch(error => {\n\t\t\t\t\tconsole.log(\"error\");\n\n\n\t\t\t\t});\n\t\t\t}\n\t\t}.bind(this),1000);\n\t}\n\tcomponentWillUnmount() {\n\t\tclearInterval(this.interval);\n\n\t}\n\trender(){\n\t\tlet greetings= <h2> no user found</h2>\n\t\tlet user= this.state.user;\n\t\tif(this.state.user){\n\t\t\tgreetings= \n\t\t\t<div>\n\t\t\t<h1>Hello, {this.state.user.username}</h1>\n\n\t\t\t</div>\n\t\t\treturn(\n\t\t\t\t<div>\n\t\t\t\t{greetings}\n\t\t\t\t<Card style={{width:\"90%\", margin: \"auto\"}}>\n\n\t\t\t\t<Card.Body>\n\t\t\t\t<Card.Title>{user.username}</Card.Title>\n\t\t\t\t<Card.Text>{user.email}</Card.Text>\n\t\t\t\t<Link to=\"#\">edit info</Link>\n\t\t\t\t</Card.Body>\n\t\t\t\t</Card>\n\t\t\t\t</div>\n\t\t\t\t);\n\n\t\t}\n\t\treturn(<div/>);\n\t\t\n\t}\n}\nexport default UserShowComponent;"]},"metadata":{},"sourceType":"module"}