{"ast":null,"code":"var _jsxFileName = \"/home/danel/EPITECH/projects/MERN/MERN_LaBoheme/src/components/struct/Home.js\";\nimport React from 'react';\nimport { Link, Redirect } from 'react-router-dom';\nimport config from '../../config';\nimport LogoutComponent from '../user/LogoutComponent';\nimport AboutUsComponent from './AboutUsComponent';\nimport { Button } from 'react-bootstrap';\nimport ProductShowComponent from \"../product/ProductShowComponent\";\nimport MapComponent from \"./MapComponent\";\nconst axios = config.axios;\nconst HomeStyle = {};\n\nclass Home extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      products: [],\n      full: false,\n      modal: null\n    };\n  }\n\n  componentDidMount() {\n    axios.get('/product').then(res => {\n      console.log(\"first step\");\n\n      if (res.data) {\n        const products = res.data;\n        this.state.products = products;\n        console.log(\"products\");\n        console.log(products);\n        this.setState({\n          full: true\n        });\n      } else {\n        this.setState({\n          full: false\n        });\n      }\n    }).catch(error => {\n      console.log(\"no step\");\n      console.log(\"error\");\n    });\n    this.interval = setInterval(() => {\n      axios.get('/product').then(res => {\n        const products = res.data;\n        console.log(\"products\");\n        console.log(products);\n        this.state.products = products;\n      }).catch(error => {\n        console.log(\"error\");\n        console.log(error);\n      });\n    }, 5000);\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.interval);\n  }\n\n  render() {\n    let result = \"noproductfoundnospacefound\";\n\n    if (Array.isArray(this.state.products) && this.state.products.length) {\n      result = this.state.products.map(product => React.createElement(ProductShowComponent, {\n        key: product._id,\n        product: product,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }));\n    }\n\n    return React.createElement(\"div\", {\n      className: \"App\",\n      style: HomeStyle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, \"Hello, \", config.username()), result, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, React.createElement(ProductShowComponent, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, React.createElement(AboutUsComponent, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, React.createElement(MapComponent, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    })));\n  }\n\n}\n\nexport default Home;","map":{"version":3,"sources":["/home/danel/EPITECH/projects/MERN/MERN_LaBoheme/src/components/struct/Home.js"],"names":["React","Link","Redirect","config","LogoutComponent","AboutUsComponent","Button","ProductShowComponent","MapComponent","axios","HomeStyle","Home","Component","state","products","full","modal","componentDidMount","get","then","res","console","log","data","setState","catch","error","interval","setInterval","componentWillUnmount","clearInterval","render","result","Array","isArray","length","map","product","_id","username"],"mappings":"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","sourcesContent":["import React from 'react';\nimport {Link, Redirect} from 'react-router-dom';\nimport config from '../../config';\nimport LogoutComponent from '../user/LogoutComponent';\nimport AboutUsComponent from './AboutUsComponent';\nimport {Button} from 'react-bootstrap';\nimport ProductShowComponent from \"../product/ProductShowComponent\";\nimport MapComponent from \"./MapComponent\";\n\n\nconst axios = config.axios;\n\nconst HomeStyle={\n}\n\nclass Home extends React.Component {\n\n  state= {\n    products: [],\n    full: false,\n    modal: null\n  }\n\n  componentDidMount() {\n\n    \n    \n    axios.get('/product').then(res => {\n      console.log(\"first step\");\n      if(res.data){\n        const products = res.data;\n        this.state.products=products;\n        console.log(\"products\");\n        console.log(products);\n        this.setState({full: true});\n      }\n      else{\n        this.setState({full: false});\n      }\n\n\n    }).catch(error => {\n      console.log(\"no step\");\n      console.log(\"error\");\n      \n    }); \n    this.interval= setInterval(()=>{\n      axios.get('/product').then(res => {\n       \n        const products = res.data;\n        console.log(\"products\");\n        console.log(products);\n        this.state.products=products;\n\n      }).catch(error => {\n        console.log(\"error\");\n        console.log(error);\n\n      }); \n    },5000);\n\n  }\n  componentWillUnmount() {\n    clearInterval(this.interval);\n  }\n  render() {\n    let result =\"noproductfoundnospacefound\";\n    if(Array.isArray(this.state.products) && this.state.products.length){\n      result= this.state.products.map(product => <ProductShowComponent key={product._id} product={product}/>);\n    }\n    return (\n      <div\n          className=\"App\"\n          style={HomeStyle}\n      >\n      <h1>Hello, {config.username()}</h1>\n\n      {result}\n      <div>\n        <ProductShowComponent/>\n      </div>\n      <div>\n        <AboutUsComponent/>\n      </div>\n        <div>\n          <MapComponent/>\n        </div>\n      </div>\n      );\n  }\n}\nexport default Home;"]},"metadata":{},"sourceType":"module"}